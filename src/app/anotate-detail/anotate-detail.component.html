<div class="container">
    <div *ngIf="sucess">
    <div class="alert alert-success alert-dismissible">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>{{apiMessage}}</strong>
    </div>
  </div>
  <div *ngIf="error" >
    <div class="alert alert-danger alert-dismissible">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>{{apiMessage}}</strong>
    </div>
  </div>
  <div class="col-md-12" style="display: flex;margin-top: 20px;">
    <div class="col col-md-6">

<mat-form-field appearance="fill">
  <mat-label>Select the Dictionary Name</mat-label>
  <mat-select [(value)]="selected" (selectionChange)="selectedVal($event)">
    <mat-option *ngFor="let item of array; let i=index" [value]="getValuesOf(item)" >
      {{item.dictionaryname}}
    </mat-option>
  </mat-select>
</mat-form-field>
</div>

<div class="col col-md-6">
  <mat-form-field appearance="fill">
  <mat-label>Select the PDF</mat-label>
  <mat-select [(value)]="selectedPDF" (selectionChange)="selectedPDFview($event)">
    <mat-option *ngFor="let item of pdfList" [value]=item.url>
      {{item.value}}
    </mat-option>
   
    
  </mat-select>
</mat-form-field>
</div>
</div>
</div>

<div class="row">
  <div class="column" *ngIf="fieldsList.length>0">
    <form style="margin-left: 80px;">
      <mat-form-field class="example-full-width">
        <mat-label>Search Field</mat-label>
        <input matInput  name="searchField" [(ngModel)]="searchField">
      </mat-form-field>
    </form>
    
<table class="locationtable">
  <thead class="locationhead">
    <tr>
      <th>List of Fields</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let val of fieldsList | filterPipe:searchField;let i=index">
    <td (mouseup)="getSelectedFieldText()">{{val.fieldName}}</td>
    </tr>
  </tbody>
</table>
</div>
<div class="column">
  <!-- <div class="flex-child magenta scroll" id="viewer">
        
        
  </div> -->
<pdf-viewer [src]=pdfSrcURL *ngIf="pdfSrcURL"
    [render-text]="true"
    [original-size]="false"
    [render-text-mode]="1"
    #pdfViewerOnDemand 
    style="width: 600px; height: 700px;padding: 4px;text-align: justify;"
    (mouseup)="getSelectedText()"
    [show-all]="true"
    [zoom]="1"
    [show-borders]="true"
></pdf-viewer>


</div>
<div class="column">
  <div class="tableclass">
    <div *ngIf="contentList.length>0">
        <div>
        <h4> 1. First we need to select the Key on first click. <br>
          2. Then select the value for the key from the pdf'</h4>
      </div>
          <div>&nbsp;&nbsp;</div><div [innerHTML]="message"></div>
      </div>
    <table  *ngIf="contentList.length>0" class="locationtable">
        <thead class="locationhead">
            <tr>
                <th>Keys</th>
                <th>Values</th>
                <th>X coordinate</th>
                <th>Y coordinate</th>
                <th>Page Number</th>
                <th>Action</th>
                </tr>
        </thead>
       <tbody>
        <tr *ngFor="let text of contentList">
            <td><input  class="input" type="text" [(ngModel)]="text.key" value="text.key" [disabled]="text.value==''" (keyup)="validateKey(text.key)" /></td>
        <td>{{text.value}}</td>
        <td>{{text.xCoord!==''?text.xCoord.toFixed(2):''}}</td>
        <td>{{text.yCoord!==''?text.yCoord.toFixed(2):''}}</td>
        <td>{{text.page}}</td>
        <td>
            <button class=" btn-default" type="button" (click)="delete(text)">
                <i class="material-icons">delete</i>
              </button>
        </td>
        </tr>
       </tbody>
        
        
        </table>
        <p *ngIf="isKey">Key should not be Empty</p>
        <button class="butn" (click)="convertToJson()" *ngIf="contentList.length>0" [disabled]="isKey">Submit</button>
</div>

</div>
</div>